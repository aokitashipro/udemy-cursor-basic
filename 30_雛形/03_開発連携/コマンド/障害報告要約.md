# 障害報告要約コマンド

## 概要
システム障害発生時に、技術的な詳細情報を関係者向けに分かりやすく整理し、適切な対応とコミュニケーションを促進するコマンドです。テスト観点チェックの基準に従い、影響範囲、原因、対応状況を明確に整理し、ステークホルダーへの迅速な情報提供と適切なエスカレーションを支援します。

## 手順

### Step 1: 障害情報の収集と整理
1. 障害発生の正確な日時と経緯を確認
2. エラーログやシステム監視データを収集
3. 影響を受けるユーザー数や機能範囲を特定
4. 現在の対応状況と復旧状況を把握

### Step 2: 原因分析と影響度評価
1. 技術的な原因を特定（サーバー、ネットワーク、アプリケーション）
2. 影響範囲を定量的に評価（ユーザー数、機能、ビジネスインパクト）
3. 再現手順を明確化
4. 類似障害の履歴を確認

### Step 3: 対応状況の整理
1. 実施した暫定対応の内容と効果を記録
2. 根本原因への対応計画を策定
3. 復旧予想時間を算出
4. 今後の予防策を検討

### Step 4: ステークホルダー別の情報整理
1. 技術チーム向け：詳細な技術情報と対応手順
2. ビジネス側向け：影響範囲と復旧予定
3. 顧客向け：分かりやすい説明と対応状況
4. 経営層向け：ビジネスインパクトと対策

## チェックリスト

### 情報の正確性
- [ ] 障害発生日時が正確に記録されている
- [ ] 影響を受けるユーザー数が具体的に把握されている
- [ ] 障害の症状が具体的に記載されている
- [ ] 再現手順が明確に定義されている

### 対応状況の明確性
- [ ] 実施した暫定対応の内容が具体的
- [ ] 根本原因への対応計画が策定されている
- [ ] 復旧予想時間が現実的に算出されている
- [ ] 今後の予防策が検討されている

### コミュニケーション品質
- [ ] ステークホルダーに応じた情報レベルで整理
- [ ] 技術的詳細とビジネス影響を適切に分離
- [ ] 緊急度に応じた情報提供の優先順位が設定
- [ ] フォローアップの計画が明確

## 出力フォーマット

```
# 障害報告要約

## 基本情報
- **障害ID**：[障害管理番号]
- **発生日時**：[年月日 時分] - [復旧日時]
- **報告者**：[報告者名・連絡先]
- **障害レベル**：[Critical/High/Medium/Low]

## 障害概要
- **影響範囲**：[影響を受けるユーザー数・機能・システム]
- **障害内容**：[具体的な症状とエラーメッセージ]
- **ビジネスインパクト**：[売上・業務への影響度]

## 技術詳細
- **発生環境**：[サーバー・ネットワーク・アプリケーション]
- **エラーログ**：[主要なエラーメッセージ]
- **再現手順**：[同じ障害を再現する方法]
- **原因分析**：[技術的な根本原因]

## 対応状況
- **暫定対応**：[実施した応急処置の内容と効果]
- **根本対応**：[根本原因への対応計画]
- **復旧予定**：[完全復旧までの予想時間]
- **予防策**：[再発防止のための対策]

## ステークホルダー別情報

### 技術チーム向け
- [詳細な技術情報と対応手順]

### ビジネス側向け
- [影響範囲と復旧予定の分かりやすい説明]

### 顧客向け
- [顧客への通知内容と対応状況]

### 経営層向け
- [ビジネスインパクトと対策のサマリー]

## 今後のアクション
- [ ] [具体的なアクション項目]（期限：[日時]）
- [ ] [具体的なアクション項目]（期限：[日時]）
- [ ] [具体的なアクション項目]（期限：[日時]）

## 関連情報
- **類似障害履歴**：[過去の類似事例]
- **関連ドキュメント**：[手順書・設計書のリンク]
- **連絡先**：[関係者の連絡先一覧]
```

## 条件分岐

### Critical障害（システム停止）の場合
- 15分以内の初回報告を必須とする
- 1時間ごとの進捗報告を実施
- 経営層への即座のエスカレーション
- 顧客への緊急通知を優先

### High障害（主要機能停止）の場合
- 1時間以内の初回報告
- 4時間ごとの進捗報告
- ビジネス側への定期的な情報提供
- 代替手段の提示

### Medium障害（一部機能影響）の場合
- 4時間以内の初回報告
- 日次での進捗報告
- 影響範囲の詳細な調査
- 予防策の検討

### Low障害（軽微な影響）の場合
- 24時間以内の初回報告
- 週次での進捗報告
- 次回リリースでの修正検討
- ドキュメント化の実施

## 品質基準

**良い例**：
- 「2025年9月11日 14:30-16:45、認証サーバーのCPU使用率100%により500名のユーザーがログイン不可。データベースコネクションプールの枯渇が原因。サーバー再起動で復旧、根本対策としてコネクション上限を調整予定」

**悪い例**：
- 「システムが重いです」（具体性なし、影響範囲不明）
- 「エラーが発生しています」（症状不明、対応方針なし）